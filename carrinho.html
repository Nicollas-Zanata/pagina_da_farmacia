<!doctype html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="stylesheet" href="css/csscarrinho.css">
    <link rel="shortcut icon" href="img/Carrinho.png" type="image/x-icon">
    <title>Carrinho - Farmácia</title>

</head>
<body>
    <div class="container" role="main">
        <header>
            <img class="logo" src="img/Logo farmácia título.png" alt="Logo farmácia.">
            <h1>Carrinho de compras</h1>
            <small aria-live="polite" id="items-count">0 itens</small>
        </header>

        <h2>Medicamentos</h2>

        <section class="cart" id="cart">
        
            <article class="item" data-price="7.99">
                <img src="img/Dorflex.jpg" alt="Dorflex" />
                <div class="meta">
                    <h2>Dorflex</h2>
                    <div class="controls">
                        <label>
                            Qtde
                            <input type="number" class="qty" min="0" value="0" />
                        </label>
                        <button class="remove secondary" type="button">Remover</button>
                    </div>
                </div>
                <div style="text-align:right;">
                    <div class="price">R$ 7,99</div>
                </div>
            </article>

            <article class="item" data-price="25.39">
                <img src="img/Neosaldina.jpg" alt="Neosaldina" />
                <div class="meta">
                    <h2>Neosaldina</h2>
                    <div class="controls">
                        <label>
                            Qtde
                            <input type="number" class="qty" min="0" value="0" />
                        </label>
                        <button class="remove secondary" type="button">Remover</button>
                    </div>
                </div>
                <div style="text-align:right;">
                    <div class="price">R$ 25,39</div>
                </div>
            </article>


        <article class="item" data-price="4.99">
                <img src="img/Neosoro.jpg" alt="Neosoro" />
                <div class="meta">
                    <h2>Neosoro</h2>
                    <div class="controls">
                        <label>
                            Qtde
                            <input type="number" class="qty" min="0" value="0" />
                        </label>
                        <button class="remove secondary" type="button">Remover</button>
                    </div>
                </div>
                <div style="text-align:right;">
                    <div class="price">R$ 4,99</div>
                </div>
        </article>
        <article class="item" data-price="33.45">
                <img src="img/Glifage.jpg" alt="Glifage" />
                <div class="meta">
                    <h2>Glifage</h2>
                    <div class="controls">
                        <label>
                            Qtde
                            <input type="number" class="qty" min="0" value="0" />
                        </label>
                        <button class="remove secondary" type="button">Remover</button>
                    </div>
                </div>
                <div style="text-align:right;">
                    <div class="price">R$ 33,45</div>
                </div>
        </article>
        <article class="item" data-price="24.29">
                <img src="img/Buscopan_Composto.jpg" alt="Buscopan Composto" />
                <div class="meta">
                    <h2>Buscopan Composto</h2>
                    <div class="controls">
                        <label>
                            Qtde
                            <input type="number" class="qty" min="0" value="0" />
                        </label>
                        <button class="remove secondary" type="button">Remover</button>
                    </div>
                </div>
                <div style="text-align:right;">
                    <div class="price">R$ 24,29</div>
                </div>
        </article>
        <article class="item" data-price="29.99">
                <img src="img/Hipoglós.jpg" alt="Hipoglós" />
                <div class="meta">
                    <h2>Hipoglós</h2>
                    <div class="controls">
                        <label>
                            Qtde
                            <input type="number" class="qty" min="0" value="0" />
                        </label>
                        <button class="remove secondary" type="button">Remover</button>
                    </div>
                </div>
                <div style="text-align:right;">
                    <div class="price">R$ 29,99</div>
                </div>
        </article>
        <article class="item" data-price="34.04">
                <img src="img/Rivotril.jpg" alt="Rivotril" />
                <div class="meta">
                    <h2>Rivotril</h2>
                    <div class="controls">
                        <label>
                            Qtde
                            <input type="number" class="qty" min="0" value="0" />
                        </label>
                        <button class="remove secondary" type="button">Remover</button>
                    </div>
                </div>
                <div style="text-align:right;">
                    <div class="price">R$ 34,04</div>
                </div>
        </article>
        <article class="item" data-price="34.05">
                <img src="img/Puran_T4.jpg" alt="Puran T4" />
                <div class="meta">
                    <h2>Puran T4</h2>
                    <div class="controls">
                        <label>
                            Qtde
                            <input type="number" class="qty" min="0" value="0" />
                        </label>
                        <button class="remove secondary" type="button">Remover</button>
                    </div>
                </div>
                <div style="text-align:right;">
                    <div class="price">R$ 34,05</div>
                </div>
        </article>

        <h2>Perfumes</h2>

        <section class="cart" id="cart">
            <article class="item" data-price="950">
                <img src="img/Chanel N° 5.jpeg" alt="Chanel N° 5" />
                <div class="meta">
                    <h2>Chanel N° 5</h2>
                    <div class="controls">
                        <label>
                            Qtde
                            <input type="number" class="qty" min="0" value="0" />
                        </label>
                        <button class="remove secondary" type="button">Remover</button>
                    </div>
                </div>
                <div style="text-align:right;">
                    <div class="price">R$ 950</div>
                </div>
            </article>

            <article class="item" data-price="835">
                <img src="img/Sauvage.jpeg" alt="Sauvage" />
                <div class="meta">
                    <h2>Sauvage</h2>
                    <div class="controls">
                        <label>
                            Qtde
                            <input type="number" class="qty" min="0" value="0" />
                        </label>
                        <button class="remove secondary" type="button">Remover</button>
                    </div>
                </div>
                <div style="text-align:right;">
                    <div class="price">R$ 835</div>
                </div>
            </article>


        <article class="item" data-price="505">
                <img src="img/Shalimar.jpeg" alt="Shalimar" />
                <div class="meta">
                    <h2>Shalimar</h2>
                    <div class="controls">
                        <label>
                            Qtde
                            <input type="number" class="qty" min="0" value="0" />
                        </label>
                        <button class="remove secondary" type="button">Remover</button>
                    </div>
                </div>
                <div style="text-align:right;">
                    <div class="price">R$ 505</div>
                </div>
        </article>
        <article class="item" data-price="329">
                <img src="img/Acqua Di Giò.jpeg" alt="Acqua di Giò" />
                <div class="meta">
                    <h2>Acqua di Giò</h2>
                    <div class="controls">
                        <label>
                            Qtde
                            <input type="number" class="qty" min="0" value="0" />
                        </label>
                        <button class="remove secondary" type="button">Remover</button>
                    </div>
                </div>
                <div style="text-align:right;">
                    <div class="price">R$ 329</div>
                </div>
        </article>
        <article class="item" data-price="600">
                <img src="img/La Vie Est Belle.jpeg" alt="La Vie Est Belle" />
                <div class="meta">
                    <h2>La Vie Est Belle</h2>
                    <div class="controls">
                        <label>
                            Qtde
                            <input type="number" class="qty" min="0" value="0" />
                        </label>
                        <button class="remove secondary" type="button">Remover</button>
                    </div>
                </div>
                <div style="text-align:right;">
                    <div class="price">R$ 600</div>
                </div>
        </article>
        <article class="item" data-price="650">
                <img src="img/Black Opium.jpeg" alt="Black Opium" />
                <div class="meta">
                    <h2>Black Opium</h2>
                    <div class="controls">
                        <label>
                            Qtde
                            <input type="number" class="qty" min="0" value="0" />
                        </label>
                        <button class="remove secondary" type="button">Remover</button>
                    </div>
                </div>
                <div style="text-align:right;">
                    <div class="price">R$ 650</div>
                </div>
        </article>
        <article class="item" data-price="450">
                <img src="img/1 Million.jpeg" alt="1 Million" />
                <div class="meta">
                    <h2>1 Million</h2>
                    <div class="controls">
                        <label>
                            Qtde
                            <input type="number" class="qty" min="0" value="0" />
                        </label>
                        <button class="remove secondary" type="button">Remover</button>
                    </div>
                </div>
                <div style="text-align:right;">
                    <div class="price">R$ 450</div>
                </div>
        </article>
        <article class="item" data-price="550">
                <img src="img/Good Girl.jpeg" alt="Good Girl" />
                <div class="meta">
                    <h2>Good Girl</h2>
                    <div class="controls">
                        <label>
                            Qtde
                            <input type="number" class="qty" min="0" value="0" />
                        </label>
                        <button class="remove secondary" type="button">Remover</button>
                    </div>

                </div>
                <div style="text-align:right;">
                    <div class="price">R$ 550</div>
                </div>
        </article>

        <h2>Higiene</h2>

        <section class="cart" id="cart">
            <article class="item" data-price="33.51">
                <img src="img/Sabonete Granado.jpeg" alt="Sabonete Granado" />
                <div class="meta">
                    <h2>Sabonete Granado</h2>
                    <div class="controls">
                        <label>
                            Qtde
                            <input type="number" class="qty" min="0" value="0" />
                        </label>
                        <button class="remove secondary" type="button">Remover</button>
                    </div>
                </div>
                <div style="text-align:right;">
                    <div class="price">R$ 33,51</div>
                </div>
        </article>

            <article class="item" data-price="129.90">
                <img src="img/Wella Professionals Invigo Nutri-Enrich.jpeg" alt="Wella Professionals Invigo Nutri-Enrich" />
                <div class="meta">
                    <h2>Wella Professionals Invigo Nutri-Enrich</h2>
                    <div class="controls">
                        <label>
                            Qtde
                            <input type="number" class="qty" min="0" value="0" />
                        </label>
                        <button class="remove secondary" type="button">Remover</button>
                    </div>
                </div>
                <div style="text-align:right;">
                    <div class="price">R$ 129,90</div>
                </div>
        </article>


        <article class="item" data-price="7.49">
                <img src="img/Colgate.png" alt="Colgate" />
                <div class="meta">
                    <h2>Colgate</h2>
                    <div class="controls">
                        <label>
                            Qtde
                            <input type="number" class="qty" min="0" value="0" />
                        </label>
                        <button class="remove secondary" type="button">Remover</button>
                    </div>
                </div>
                <div style="text-align:right;">
                    <div class="price">R$ 7,49</div>
                </div>
        </article>
        <article class="item" data-price="7">
                <img src="img/Colgate Slim Soft.webp" alt="Colgate Slim Soft" />
                <div class="meta">
                    <h2>Colgate Slim Soft</h2>
                    <div class="controls">
                        <label>
                            Qtde
                            <input type="number" class="qty" min="0" value="0" />
                        </label>
                        <button class="remove secondary" type="button">Remover</button>
                    </div>
                </div>
                <div style="text-align:right;">
                    <div class="price">R$ 7</div>
                </div>
        </article>
        <article class="item" data-price="56.90">
                <img src="img/Vegano Cristal Alva Stick.jpeg" alt="Vegano Cristal Alva Stick" />
                <div class="meta">
                    <h2>Vegano Cristal Alva Stick</h2>
                    <div class="controls">
                        <label>
                            Qtde
                            <input type="number" class="qty" min="0" value="0" />
                        </label>
                        <button class="remove secondary" type="button">Remover</button>
                    </div>
                </div>
                <div style="text-align:right;">
                    <div class="price">R$ 56,90</div>
                </div>
        </article>
        <article class="item" data-price="15">
                <img src="img/Band-Aid.jpeg" alt="Band-Aid" />
                <div class="meta">
                    <h2>Band-Aid</h2>
                    <div class="controls">
                        <label>
                            Qtde
                            <input type="number" class="qty" min="0" value="0" />
                        </label>
                        <button class="remove secondary" type="button">Remover</button>
                    </div>
                </div>
                <div style="text-align:right;">
                    <div class="price">R$ 15</div>
                </div>
        </article>
        <article class="item" data-price="88.53">
                <img src="img/GILLETTE.jpeg" alt="GILLETTE" />
                <div class="meta">
                    <h2>GILLETTE</h2>
                    <div class="controls">
                        <label>
                            Qtde
                            <input type="number" class="qty" min="0" value="0" />
                        </label>
                        <button class="remove secondary" type="button">Remover</button>
                    </div>
                </div>
                <div style="text-align:right;">
                    <div class="price">R$ 88,53</div>
                </div>
        </article>
        <article class="item" data-price="13.90">
                <img src="img/BOB.jpeg" alt="BOB" />
                <div class="meta">
                    <h2>BOB</h2>
                    <div class="controls">
                        <label>
                            Qtde
                            <input type="number" class="qty" min="0" value="0" />
                        </label>
                        <button class="remove secondary" type="button">Remover</button>
                    </div>
                </div>
                <div style="text-align:right;">
                    <div class="price">R$ 13,90</div>
                </div>
        </article>

        <div class="summary" aria-live="polite">
            <div>
                <strong>Total:</strong>
            </div>
            <div>
                <strong id="total">R$ 0,00</strong>
            </div>
        </div>

        <footer style="margin-top:1rem;display:flex;justify-content:flex-end;">
            <button id="checkout">Finalizar compra</button>
        </footer>
    </div>

    <script>
        // Atualiza contagens e total
        function formatBRL(n){ return n.toLocaleString('pt-BR',{style:'currency',currency:'BRL'}); }
        function updateCart(){
            const items = Array.from(document.querySelectorAll('.item'));
            let total = 0;
            let count = 0;
            items.forEach(item=>{
                const price = parseFloat(item.dataset.price) || 0;
                const qty = Math.max(1, parseInt(item.querySelector('.qty').value || 1,10));
                total += price * qty;
                count += qty;
            });
            document.getElementById('total').textContent = formatBRL(total);
            document.getElementById('items-count').textContent = count + (count===1? ' item' : ' itens');
        }

        // Delegação: alteração de quantidade e remoção
        document.getElementById('cart').addEventListener('input', e=>{
            if(e.target.matches('.qty')) updateCart();
        });
        document.getElementById('cart').addEventListener('click', e=>{
            if(e.target.matches('.remove')){
                const item = e.target.closest('.item');
                if(item) item.remove();
                updateCart();
            }
        });

        // Inicializa
        updateCart();

        // Ação do checkout (placeholder)
        document.getElementById('checkout').addEventListener('click', ()=>{
            alert('Simulação: redirecionar para checkout.');
        });
    </script>
</body>
</html>